name: CI

on:
  push:
    branches: [ "**" ]
  pull_request:

jobs:
  build:                      
    runs-on: ubuntu-latest                      
    steps:                      
      - uses: actions/checkout@v4
      - name: Set up Python
        uses: actions/setup-python@v5                      
        with:                      
          python-version: '3.11'                      
      - name: Install backend deps
        run: |                      
          python -m pip install --upgrade pip
          pip install -r backend/requirements.txt
      - name: Import check
        run: python -c "import fastapi, pandas, sklearn; print('Imports OK')"
      - name: Install Docker Compose
        run: sudo apt-get update && sudo apt-get install -y docker-compose
      - name: Build Docker images
        run: docker-compose build
